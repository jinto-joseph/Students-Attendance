<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attendance App</title>
    <!-- Bootstrap CSS CDN -->
    <link rel="icon" class="img-fluid rounded-circle" href="icon.png" type="image/gif" sizes="16x16"> 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Google Fonts (Poppins) -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
    <!-- Manifest for PWA -->
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <!-- Password Input Overlay -->
    <div id="passwordOverlay" class="password-overlay">
        <div class="password-container">
            <h2 class="text-center mb-4">Enter Password</h2>
            <div class="input-group mb-3">
                <input type="password" id="passwordInput" class="form-control password-input" placeholder="Type your password" aria-label="Password">
                <button class="btn btn-primary" id="submitPassword">Submit</button>
            </div>
            <p id="errorMessage" class="text-danger text-center" style="display: none;">Incorrect password! Try again.</p>
        </div>
    </div>

    <!-- Main Content (Hidden until password is correct) -->
    <div id="mainContent" class="container my-5" style="display: none;">
        <div class="card shadow-lg border-0">
            <div class="card-header text-white text-center d-flex justify-content-between align-items-center">
                <h1 class="h4 mb-0">Attendance Marking</h1>
                <!-- Theme Toggle Button with Yellow Emojis -->
                <button id="themeToggle" class="btn btn-sm btn-outline-light">
                    <span class="light-icon">‚òÄÔ∏è</span>
                    <span class="dark-icon d-none">üåô</span>
                </button>
            </div>
            <div class="card-body p-4">
                <div class="row row-cols-1 g-4" id="studentList">
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1207.jpeg" alt="Student 1" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Rohith Zacharias (Reg: 1207)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1207" data-name="Rohith Zacharias" data-reg="1207" data-img="Pics/URK24CS1207.jpeg">
                                    <label class="form-check-label" for="check1207"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1208.jpg" alt="Student 2" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Rounak Raj Kashyap (Reg: 1208)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1208" data-name="Rounak Raj Kashyap" data-reg="1208" data-img="Pics/URK24CS1208.jpg">
                                    <label class="form-check-label" for="check1208"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1209.JPG" alt="Student 3" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Franklin Rhenius A S (Reg: 1209)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1209" data-name="Franklin Rhenius A S" data-reg="1209" data-img="Pics/URK24CS1209.JPG">
                                    <label class="form-check-label" for="check1209"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1210.jpeg" alt="Student 4" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Jinto Joseph (Reg: 1210)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1210" data-name="Jinto Joseph" data-reg="1210" data-img="Pics/URK24CS1210.jpeg">
                                    <label class="form-check-label" for="check1210"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1211.jpg" alt="Student 5" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Harnith M V (Reg: 1211)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1211" data-name="Harnith M V" data-reg="1211" data-img="Pics/URK24CS1211.jpg">
                                    <label class="form-check-label" for="check1211"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1212.jpg" alt="Student 6" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Dharnish R (Reg: 1212)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1212" data-name="Dharnish R" data-reg="1212" data-img="Pics/URK24CS1212.jpg">
                                    <label class="form-check-label" for="check1212"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1213.jpg" alt="Student 7" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Gudiputi Ruthwik (Reg: 1213)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1213" data-name="Gudiputi Ruthwik" data-reg="1213" data-img="Pics/URK24CS1213.jpg">
                                    <label class="form-check-label" for="check1213"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1214.jpeg" alt="Student 8" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Sri Sujeeth Sirivella (Reg: 1214)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1214" data-name="Sri Sujeeth Sirivella" data-reg="1214" data-img="Pics/URK24CS1214.jpeg">
                                    <label class="form-check-label" for="check1214"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1215.jpg" alt="Student 9" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Atte Kedarnath (Reg: 1215)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1215" data-name="Atte Kedarnath" data-reg="1215" data-img="Pics/URK24CS1215.jpg">
                                    <label class="form-check-label" for="check1215"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1216.jpg" alt="Student 10" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Isaac Babu (Reg: 1216)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1216" data-name="Isaac Babu" data-reg="1216" data-img="Pics/URK24CS1216.jpg">
                                    <label class="form-check-label" for="check1216"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1218.jpg" alt="Student 11" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Jaison A (Reg: 1218)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1218" data-name="Jaison A" data-reg="1218" data-img="Pics/URK24CS1218.jpg">
                                    <label class="form-check-label" for="check1218"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1221.jpg" alt="Student 12" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Hemanth Palani (Reg: 1221)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1221" data-name="Hemanth Palani" data-reg="1221" data-img="Pics/URK24CS1221.jpg">
                                    <label class="form-check-label" for="check1221"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1223.jpeg" alt="Student 13" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Adithyan Suresh (Reg: 1223)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1223" data-name="Adithyan Suresh" data-reg="1223" data-img="Pics/URK24CS1223.jpeg">
                                    <label class="form-check-label" for="check1223"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1225.jpg" alt="Student 15" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Chandan Pruthviraju P (Reg: 1225)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1225" data-name="Chandan Pruthviraju P" data-reg="1225" data-img="Pics/URK24CS1225.jpg">
                                    <label class="form-check-label" for="check1225"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1226.jpg" alt="Student 16" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Joseph Stalin A (Reg: 1226)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1226" data-name="Joseph Stalin A" data-reg="1226" data-img="Pics/URK24CS1226.jpg">
                                    <label class="form-check-label" for="check1226"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1228.jpg" alt="Student 17" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Bathula Galvin Chris (Reg: 1228)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1228" data-name="Bathula Galvin Chris" data-reg="1228" data-img="Pics/URK24CS1228.jpg">
                                    <label class="form-check-label" for="check1228"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1229.jpeg" alt="Student 18" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Kothapalli Benedict Joshua (Reg: 1229)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1229" data-name="Kothapalli Benedict Joshua" data-reg="1229" data-img="Pics/URK24CS1229.jpeg">
                                    <label class="form-check-label" for="check1229"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1230.jpg" alt="Student 19" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Sakthivel P (Reg: 1230)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1230" data-name="Sakthivel P" data-reg="1230" data-img="Pics/URK24CS1230.jpg">
                                    <label class="form-check-label" for="check1230"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1231.jpg" alt="Student 20" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Shaik Afzal Hameed (Reg: 1231)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1231" data-name="Shaik Afzal Hameed" data-reg="1231" data-img="Pics/URK24CS1231.jpg">
                                    <label class="form-check-label" for="check1231"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1232.jpg" alt="Student 21" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Rajanala Vigneshwara Reddy (Reg: 1232)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1232" data-name="Rajanala Vigneshwara Reddy" data-reg="1232" data-img="Pics/URK24CS1232.jpg">
                                    <label class="form-check-label" for="check1232"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1233.jpg" alt="Student 22" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Harshavarththan S (Reg: 1233)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1233" data-name="Harshavarththan S" data-reg="1233" data-img="Pics/URK24CS1233.jpg">
                                    <label class="form-check-label" for="check1233"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1234.jpg" alt="Student 23" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Kumaravel G (Reg: 1234)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1234" data-name="Kumaravel G" data-reg="1234" data-img="Pics/URK24CS1234.jpg">
                                    <label class="form-check-label" for="check1234"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1235.jpg" alt="Student 24" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Johny Schwartz J (Reg: 1235)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1235" data-name="Johny Schwartz J" data-reg="1235" data-img="Pics/URK24CS1235.jpg">
                                    <label class="form-check-label" for="check1235"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1239.jpg" alt="Student 25" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Lokanath Kallagunta (Reg: 1239)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1239" data-name="Lokanath Kallagunta" data-reg="1239" data-img="Pics/URK24CS1239.jpg">
                                    <label class="form-check-label" for="check1239"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1241.jpg" alt="Student 26" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Chandan (Reg: 1241)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1241" data-name="Chandan" data-reg="1241" data-img="Pics/URK24CS1241.jpg">
                                    <label class="form-check-label" for="check1241"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/URK24CS1278.jpg" alt="Student 27" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Unknown (Reg: 1278)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1278" data-name="Unknown" data-reg="1278" data-img="Pics/URK24CS1278.jpg">
                                    <label class="form-check-label" for="check1278"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100 student-card">
                            <div class="card-body d-flex align-items-center p-3">
                                <img src="Pics/urk24cs1281.jpg" alt="Student 28" class="rounded-circle me-3 student-photo">
                                <label class="flex-grow-1 fw-medium">Jerin Jones (Reg: 1281)</label>
                                <div class="form-check custom-checkbox">
                                    <input type="checkbox" class="attendance form-check-input" id="check1281" data-name="Jerin Jones" data-reg="1281" data-img="Pics/urk24cs1281.jpg">
                                    <label class="form-check-label" for="check1281"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center mt-4">
                    <button class="btn submit-btn w-100 w-md-25 fw-medium" onclick="submitAttendance()">Submit & Print</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Custom Script -->
    <script src="script.js"></script>
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((reg) => console.log('Service Worker registered:', reg))
                    .catch((err) => console.log('Service Worker registration failed:', err));
            });
        }

        // Theme Toggle Logic
        const themeToggle = document.getElementById('themeToggle');
        const htmlElement = document.documentElement;
        const lightIcon = themeToggle.querySelector('.light-icon');
        const darkIcon = themeToggle.querySelector('.dark-icon');

        // Load saved theme from localStorage
        const savedTheme = localStorage.getItem('theme') || 'light';
        htmlElement.setAttribute('data-bs-theme', savedTheme);
        updateThemeIcons(savedTheme);

        themeToggle.addEventListener('click', () => {
            const currentTheme = htmlElement.getAttribute('data-bs-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            htmlElement.setAttribute('data-bs-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcons(newTheme);
        });

        function updateThemeIcons(theme) {
            if (theme === 'light') {
                lightIcon.classList.remove('d-none');
                darkIcon.classList.add('d-none');
            } else {
                lightIcon.classList.add('d-none');
                darkIcon.classList.remove('d-none');
            }
        }

        // Password Handling
        const correctPassword = "urk24cs77";
        const passwordOverlay = document.getElementById('passwordOverlay');
        const mainContent = document.getElementById('mainContent');
        const passwordInput = document.getElementById('passwordInput');
        const submitPassword = document.getElementById('submitPassword');
        const errorMessage = document.getElementById('errorMessage');

        submitPassword.addEventListener('click', () => {
            const userPassword = passwordInput.value;
            if (userPassword === correctPassword) {
                passwordOverlay.style.display = 'none';
                mainContent.style.display = 'block';
            } else {
                errorMessage.style.display = 'block';
                passwordInput.value = ''; // Clear the input
                setTimeout(() => {
                    errorMessage.style.display = 'none';
                }, 2000); // Hide error after 2 seconds
            }
        });

        // Allow Enter key to submit
        passwordInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                submitPassword.click();
            }
        });
    </script>
</body>
</html>